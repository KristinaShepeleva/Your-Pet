"use strict";(self.webpackChunkyour_pet=self.webpackChunkyour_pet||[]).push([[647],{2647:function(e,r,a){a.r(r),a.d(r,{default:function(){return m}});var t=a(9439),n=a(5705),i=a(3939),s=a(4717),l=a(2791),u=a(5996),d=a(184),o=function(e){var r=e.text,a=e.name,t=e.type,n=e.isActive,i=e.onChange,s=e.value,l=e.error,u=e.helperText;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("label",{children:[(0,d.jsxs)("p",{children:[r,":"]}),(0,d.jsx)("input",{name:a,type:t,disabled:n,onChange:i,value:s})]}),l?(0,d.jsx)("div",{children:u}):null]})},h="UserForm_inputFile__dinC4",c=function(){var e=(0,s.a)().user,r=(0,l.useState)(null),a=(0,t.Z)(r,2),c=a[0],m=a[1],p=(0,l.useState)(!0),x=(0,t.Z)(p,2),v=x[0],y=x[1],j=(0,l.useState)(!1),b=(0,t.Z)(j,2),f=b[0],g=b[1];console.log(f);var R=(0,n.TA)({initialValues:{avatarURL:"",name:e.name,email:e.email,birthday:"2018-04-28",phone:"+3809745353530",city:"Kyiv"},onSubmit:function(e,r){var a=new FormData;a.append("avatarURL",e.avatarURL),a.append("name",e.name),a.append("email",e.email),a.append("birthday",e.birthday),a.append("phone",e.phone),a.append("city",e.city),y(!v),g(!1),r.resetForm()},validationSchema:u.IK});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{onSubmit:R.handleSubmit,children:[(0,d.jsx)("div",{children:c?(0,d.jsx)("img",{src:URL.createObjectURL(c),alt:"avatar"}):null!==e&&void 0!==e&&e.avatarURL?(0,d.jsx)("img",{src:e.avatarURL,alt:"avatar"}):(0,d.jsx)("div",{children:(0,d.jsx)(i.BM,{})})}),!v&&f&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{type:"button",style:{color:"blue"},onClick:function(){return g(!1)},children:[" ",(0,d.jsx)(i.nQ,{})]}),(0,d.jsx)("p",{children:"Confirm"}),(0,d.jsxs)("button",{type:"button",onClick:function(){g(!1),R.setFieldValue("avatarURL",""),m(null)},children:[" ",(0,d.jsx)(i.fZ,{})]})]}),(0,d.jsxs)("label",{children:[!v&&!f&&(0,d.jsxs)("div",{onClick:function(){return g(!0)},children:[(0,d.jsx)(i.xm,{})," ",(0,d.jsx)("p",{children:"Edit photo"})]}),(0,d.jsx)("input",{className:h,name:"avatarURL",type:"file",disabled:v,onChange:function(e){R.setFieldValue("avatarURL",e),m(e.target.files[0])},accept:"image/*,.png,.jpg,.gif,.web"})]}),(0,d.jsx)(o,{text:"Name",name:"name",type:"text",isActive:v,onChange:R.handleChange,value:R.values.name,error:R.touched.name&&R.errors.name,helperText:R.errors.name}),(0,d.jsx)(o,{text:"Email",name:"email",type:"email",isActive:v,onChange:R.handleChange,value:R.values.email,error:R.touched.email&&R.errors.email,helperText:R.errors.email}),(0,d.jsx)(o,{text:"Birthday",name:"birthday",type:"date",isActive:v,onChange:R.handleChange,value:R.values.birthday,error:R.touched.birthday&&R.errors.birthday,helperText:R.errors.birthday}),(0,d.jsx)(o,{text:"Phone",name:"phone",type:"tel",isActive:v,onChange:R.handleChange,value:R.values.phone,error:R.touched.phone&&R.errors.phone,helperText:R.errors.phone}),(0,d.jsx)(o,{text:"City",name:"city",type:"text",isActive:v,onChange:R.handleChange,value:R.values.city,error:R.touched.city&&R.errors.city,helperText:R.errors.city}),!v&&(0,d.jsx)("button",{type:"submit",children:"Save"})]}),v?(0,d.jsx)("button",{type:"button",onClick:function(){return y(!v)},children:(0,d.jsx)(i.dY,{})}):(0,d.jsxs)("button",{type:"reset",onClick:function(){R.resetForm(),y(!v),m(null),g(!1)},children:[" ",(0,d.jsx)(i.Hb,{})]})]})},m=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:"UserPage"}),(0,d.jsx)(c,{})]})}},5996:function(e,r,a){a.d(r,{IK:function(){return u},dm:function(){return l},gY:function(){return s}});var t=a(6727),n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,16}$/,i=/.+@.+\..+/i,s=t.Ry().shape({username:t.Z_().min(2).max(16).required("Required"),email:t.Z_().email(i,"Please enter a valid email").required("Required"),password:t.Z_().matches(n,"The password must have 1 uppercase letter, 1 lowercase letter and 1 number").required("Required"),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"Password must match").required("Required")}),l=t.Ry().shape({email:t.Z_().email("Please enter a valid email").required("Required"),password:t.Z_().matches(n,"Not valid password").required("Required")}),u=t.Ry().shape({avatarURL:t.nK(),name:t.Z_().required("Required").matches(/^[a-z\u0430-\u044f\u0451]{2,16}$/i,"Enter a valid Name"),email:t.Z_().trim().required("Required").matches(i,"Enter a valid Email"),birthday:t.Z_().required("Required"),phone:t.Z_().required("Required"),city:t.Z_().required("Required")})}}]);
//# sourceMappingURL=647.cf099549.chunk.js.map