{"version":3,"file":"static/js/647.cf099549.chunk.js","mappings":"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","sources":["components/UserForm/UserInput.jsx","webpack://your-pet/./src/components/UserForm/UserForm.module.css?24f4","components/UserForm/UserForm.jsx","pages/UserPage/UserPage.js","schemas/index.js"],"sourcesContent":["export const UserInput = ({text, name, type, isActive, onChange, value, error, helperText}) => {\n    return (\n        <>\n          <label>\n                <p>{text}:</p>\n                <input name={name} type={type} disabled={isActive} onChange={onChange} value={value}/>\n            </label>\n             {error ? (\n         <div>{helperText}</div>\n       ) : null}\n        </>\n    )\n}","// extracted by mini-css-extract-plugin\nexport default {\"inputFile\":\"UserForm_inputFile__dinC4\"};","import { useFormik } from 'formik';\nimport {\n  CameraIcon,\n  CheckIcon,\n  CrossBigIcon,\n  CrossSmallIcon,\n  EditIcon,\n  PhotoDefault,\n} from 'helpers/icons';\nimport { useAuth } from 'hooks';\nimport {  useState } from 'react';\nimport { userSchema } from 'schemas';\nimport { UserInput } from './UserInput';\nimport css from './UserForm.module.css';\n\nexport const UserForm = () => {\n  const { user } = useAuth();\n  const [avatarURL, setAvatarURL] = useState(null);\n  const [isActive, setIsActive] = useState(true);\n  const [confirmAvatar, setConfirmAvatar] = useState(false);\nconsole.log(confirmAvatar);\n  const formik = useFormik({\n    initialValues: {\n      avatarURL: '',\n      name: user.name,\n      email: user.email,\n      birthday: '2018-04-28',\n      phone: '+3809745353530',\n      city: 'Kyiv',\n    },\n    onSubmit: (values, actions) => {\n      const formData = new FormData();\n      formData.append('avatarURL', values.avatarURL);\n      formData.append('name', values.name);\n      formData.append('email', values.email);\n      formData.append('birthday', values.birthday);\n      formData.append('phone', values.phone);\n      formData.append('city', values.city);\n      setIsActive(!isActive);\n      setConfirmAvatar(false);\n      actions.resetForm();\n    },\n    validationSchema: userSchema,\n  });\n  return (\n    <>\n      <form onSubmit={formik.handleSubmit}>\n        <div>\n          {avatarURL ? (\n            <img src={URL.createObjectURL(avatarURL)} alt=\"avatar\" />\n          ) : user?.avatarURL ? (\n            <img src={user.avatarURL} alt=\"avatar\" />\n          ) : (\n            <div>\n              <PhotoDefault />\n            </div>\n          )}\n        </div>\n       {!isActive && confirmAvatar && ( <div>\n          <button\n            type=\"button\"\n            style={{ color: 'blue' }}\n            onClick={() => setConfirmAvatar(false)}\n          >\n            {' '}\n            <CheckIcon />\n          </button>\n          <p>Confirm</p>\n          <button\n            type=\"button\"\n        \n            onClick={() => {\n              setConfirmAvatar(false);\n              formik.setFieldValue('avatarURL', '');\n              setAvatarURL(null);\n            \n            }}\n          >\n            {' '}\n            <CrossSmallIcon />\n          </button>\n        </div>)}\n        <label>\n        {!isActive && !confirmAvatar && ( <div onClick={() => setConfirmAvatar(true)}>\n                    <CameraIcon /> <p>Edit photo</p>\n          </div>)}\n\n          <input\n            className={css.inputFile}\n            name=\"avatarURL\"\n            type=\"file\"\n            disabled={isActive}\n            onChange={e => {\n              formik.setFieldValue('avatarURL', e);\n              setAvatarURL(e.target.files[0]);\n            }}\n            accept=\"image/*,.png,.jpg,.gif,.web\"\n          />\n        </label>\n        <UserInput\n          text=\"Name\"\n          name=\"name\"\n          type=\"text\"\n          isActive={isActive}\n          onChange={formik.handleChange}\n          value={formik.values.name}\n          error={formik.touched.name && formik.errors.name}\n          helperText={formik.errors.name}\n        />\n        <UserInput\n          text=\"Email\"\n          name=\"email\"\n          type=\"email\"\n          isActive={isActive}\n          onChange={formik.handleChange}\n          value={formik.values.email}\n          error={formik.touched.email && formik.errors.email}\n          helperText={formik.errors.email}\n        />\n        <UserInput\n          text=\"Birthday\"\n          name=\"birthday\"\n          type=\"date\"\n          isActive={isActive}\n          onChange={formik.handleChange}\n          value={formik.values.birthday}\n          error={formik.touched.birthday && formik.errors.birthday}\n          helperText={formik.errors.birthday}\n        />\n        <UserInput\n          text=\"Phone\"\n          name=\"phone\"\n          type=\"tel\"\n          isActive={isActive}\n          onChange={formik.handleChange}\n          value={formik.values.phone}\n          error={formik.touched.phone && formik.errors.phone}\n          helperText={formik.errors.phone}\n        />\n        <UserInput\n          text=\"City\"\n          name=\"city\"\n          type=\"text\"\n          isActive={isActive}\n          onChange={formik.handleChange}\n          value={formik.values.city}\n          error={formik.touched.city && formik.errors.city}\n          helperText={formik.errors.city}\n        />\n\n        {!isActive && <button type=\"submit\">Save</button>}\n  \n      </form>\n      {isActive ? (\n        <button type=\"button\" onClick={() => setIsActive(!isActive)}>\n          <EditIcon />\n        </button>\n      ) : (\n        <button\n          type=\"reset\"\n          onClick={() => {\n            formik.resetForm();\n            setIsActive(!isActive);\n            setAvatarURL(null);\n            setConfirmAvatar(false)\n          }}\n        >\n          {' '}\n          <CrossBigIcon />\n        </button>\n      )}\n    </>\n  );\n};\n","import { UserForm } from 'components/UserForm/UserForm';\n\nconst User = () => {\n  return (\n    <>\n      <h2>UserPage</h2>\n      <UserForm />\n    </>\n  );\n};\n\nexport default User;\n","import * as yup from 'yup';\n\n\nconst passwordRules = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,16}$/;\n\nconst emailRegExp = /.+@.+\\..+/i;\nconst nameRegExp = /^[a-zа-яё]{2,16}$/i;\n\nexport const registerSchema = yup.object().shape({\n  username: yup.string().min(2).max(16).required('Required'),\n  email: yup\n    .string()\n    .email(emailRegExp, 'Please enter a valid email')\n    .required('Required'),\n  password: yup\n    .string()\n    .matches(\n      passwordRules,\n      'The password must have 1 uppercase letter, 1 lowercase letter and 1 number'\n    )\n    .required('Required'),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'Password must match')\n    .required('Required'),\n});\n\nexport const loginSchema = yup.object().shape({\n  email: yup.string().email('Please enter a valid email').required('Required'),\n  password: yup\n    .string()\n    .matches(passwordRules, 'Not valid password')\n    .required('Required'),\n});\n\nexport const userSchema = yup.object().shape({\n  // avatarURL: yup.string(),\n  avatarURL: yup.mixed(),\n\n  name: yup\n    .string()\n    .required('Required')\n    .matches(nameRegExp, 'Enter a valid Name'),\n  email: yup\n    .string()\n    .trim()\n    .required('Required')\n    .matches(emailRegExp, 'Enter a valid Email'),\n  birthday: yup.string().required('Required'),\n  phone: yup.string().required('Required'),\n  city: yup.string().required('Required'),\n});\n"],"names":["UserInput","text","name","type","isActive","onChange","value","error","helperText","disabled","UserForm","user","useAuth","useState","avatarURL","setAvatarURL","setIsActive","confirmAvatar","setConfirmAvatar","console","log","formik","useFormik","initialValues","email","birthday","phone","city","onSubmit","values","actions","formData","FormData","append","resetForm","validationSchema","userSchema","handleSubmit","src","URL","createObjectURL","alt","style","color","onClick","setFieldValue","className","css","e","target","files","accept","handleChange","touched","errors","passwordRules","emailRegExp","registerSchema","yup","shape","username","min","max","required","password","matches","confirmPassword","oneOf","loginSchema","trim"],"sourceRoot":""}