"use strict";(self.webpackChunkyour_pet=self.webpackChunkyour_pet||[]).push([[992],{4543:function(e,t,a){a.d(t,{Z:function(){return s}});var n="Container_container__VVOCq",r=a(184);var s=function(e){var t=e.children;return(0,r.jsx)("div",{className:n,children:t})}},6424:function(e,t,a){a.d(t,{H:function(){return s}});var n="Empty_empty__EgfOm",r=a(184),s=function(){return(0,r.jsx)("div",{className:n})}},3982:function(e,t,a){a.d(t,{Z:function(){return _}});var n="AtentionModal_atention__pNrop",r="AtentionModal_titleAtention__DVqEE",s="AtentionModal_textAtention__oDK3O",i="AtentionModal_btnContainer__geSGn",o="AtentionModal_btnLogIn__6bgng",l="AtentionModal_linkIcon__ph9+U",c="AtentionModal_btnRegister__B1O13",d=a(1087),u=a(3566),m=a(184),_=function(){return(0,m.jsxs)("div",{className:n,children:[(0,m.jsx)("h2",{className:r,children:"Attention!"}),(0,m.jsx)("p",{className:s,children:"We would like to remind you that certain functionality is available only to authorized users.If you have an account, please log in with your credentials. If you do not already have an account, you must register to access these features."}),(0,m.jsxs)("div",{className:i,children:[(0,m.jsx)(d.rU,{to:"/login",children:(0,m.jsxs)("button",{type:"button",className:o,children:["Log IN",(0,m.jsx)(u.ZO,{className:l})]})}),(0,m.jsx)(d.rU,{to:"/register",children:(0,m.jsx)("button",{className:c,children:"Registration"})})]})]})}},1217:function(e,t,a){a.d(t,{Z:function(){return _}});var n=a(5861),r=a(7757),s=a.n(r),i=a(9434),o={delete:"DeleteModal_delete__Wa7l7",titleDelete:"DeleteModal_titleDelete__zgWip",content:"DeleteModal_content__Dlebc",span:"DeleteModal_span__fra6G",btnContainer:"DeleteModal_btnContainer__y+BL8",btnCancel:"DeleteModal_btnCancel__AjqWF",btnYes:"DeleteModal_btnYes__6-6h-",icon:"DeleteModal_icon__eqRnB"},l=a(3566),c=a(8699),d=a(7689),u=a(9874),m=a(184),_=function(e){var t=e.nameModal,a=e.title,r=e.id,_=e.toggleDeleteModal,h=(0,i.I0)(),x=(0,d.TH)().pathname.split("/").filter((function(e){return""!==e})),p=x[1],j=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((0,u.PO)(r));case 2:_();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((0,c.deletePet)(r));case 2:if("favorite"!==p){e.next=7;break}return e.next=5,h((0,c.favoriteList)());case 5:e.next=15;break;case 7:if("own"!==p){e.next=12;break}return e.next=10,h((0,c.myNotices)());case 10:e.next=15;break;case 12:return t={category:p,search:""},e.next=15,h((0,c.allNoties)(t));case 15:_();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:o.delete,children:[(0,m.jsx)("h2",{className:o.titleDelete,children:t}),(0,m.jsxs)("div",{className:o.content,children:[(0,m.jsxs)("p",{className:o.textDelete,children:["Are you sure you want to delete",(0,m.jsxs)("span",{className:o.span,children:[a,"?"]})]}),(0,m.jsx)("p",{className:o.textDelete,children:" You can`t undo this action."})]}),(0,m.jsxs)("div",{className:o.btnContainer,children:[(0,m.jsx)("button",{type:"button",className:o.btnCancel,onClick:_,children:"Cancel"}),(0,m.jsxs)("button",{className:o.btnYes,onClick:"user"===x[0]?j:v,children:["Yes",(0,m.jsx)(l.pJ,{className:o.icon})]})]})]})}},3782:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(9439),r=a(2791),s="AddPetButton_addBtn__aAYbk",i="AddPetButton_addIcon__omMcY",o="AddPetButton_addIconBig__fXApQ",l="AddPetButton_textBtn__1wePC",c=a(3566),d=a(7391),u=a(6291),m=a(3982),_=a(184),h=function(){var e=(0,r.useState)(!1),t=(0,n.Z)(e,2),a=t[0],h=t[1],x=(0,d.a)().isLoggedIn,p=function(){h(!a)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("button",{onClick:p,className:s,type:"button",children:[(0,_.jsx)(c.qJ,{className:i}),(0,_.jsx)(c.l5,{className:o}),(0,_.jsx)("p",{className:l,children:"Add Pet"})]}),a&&!x&&(0,_.jsx)(u.Z,{toggleModal:p,children:(0,_.jsx)(m.Z,{})})]})}},4992:function(e,t,a){a.r(t),a.d(t,{default:function(){return je}});var n=a(9439),r=a(4543),s=a(3566),i="CongratsModal_containet__P1iqK",o="CongratsModal_title__EuaPE",l="CongratsModal_text__vQUPB",c="CongratsModal_btn__lfqy3",d="CongratsModal_icon__Kg4zq",u=a(184),m=function(e){var t=e.toggleModal;return(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("h2",{className:o,children:"Congrats"}),(0,u.jsx)("p",{className:l,children:"Youre registration is success"}),(0,u.jsxs)("button",{type:"button",onClick:t,className:c,children:["Go to profile",(0,u.jsx)(s.ZO,{className:d})]})]})},_=a(6291),h=a(2791),x={wrapper:"PetsItem_wrapper__BwVF1",thumb:"PetsItem_thumb__8wHux",image:"PetsItem_image__kmd37",box:"PetsItem_box__cRe3e",bt:"PetsItem_bt__kG5f8",icon:"PetsItem_icon__6NNhh",text:"PetsItem_text__nkEZK",title:"PetsItem_title__ht0-a"},p=a(1217),j=function(e){var t=e.id,a=e.petName,r=e.birthday,i=e.breed,o=e.comments,l=e.image,c=(0,h.useState)(!1),d=(0,n.Z)(c,2),m=d[0],j=d[1],v=function(){j(!m)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("li",{className:x.wrapper,children:[(0,u.jsx)("div",{className:x.thumb,children:(0,u.jsx)("img",{className:x.image,src:l,alt:"pet"})}),(0,u.jsxs)("ul",{className:x.box,children:[(0,u.jsx)("li",{className:x.boxNameDeleteIcon,children:(0,u.jsxs)("p",{className:x.text,children:[(0,u.jsx)("span",{className:x.title,children:"Name:"})," ",a]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("p",{className:x.text,children:[(0,u.jsx)("span",{className:x.title,children:"Date of birth:"})," ",r]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("p",{className:x.text,children:[(0,u.jsx)("span",{className:x.title,children:"Type:"})," ",i]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("p",{className:x.text,children:[(0,u.jsx)("span",{className:x.title,children:"Comments:"})," ",o]})})]}),(0,u.jsx)("button",{className:x.bt,type:"button",children:(0,u.jsx)(s.pJ,{className:x.icon,onClick:v})})]}),m&&(0,u.jsx)(_.Z,{toggleModal:v,children:(0,u.jsx)(p.Z,{nameModal:"Delete it?",title:"this pet (".concat(a,")"),id:t,toggleDeleteModal:v})})]})},v=a(6424),b=function(e){return e.pets.items},f=function(e){return e.pets.error},g=a(9434),N=function(){return(0,u.jsx)("p",{children:"Whoops, something went wrong. Try later."})},y=function(){var e=(0,g.v9)(b),t=(0,g.v9)(f);return(0,u.jsx)(u.Fragment,{children:t?(0,u.jsx)(N,{}):0===e.length?(0,u.jsx)(v.H,{text:'You don`t have any pets. You can add them. Click on the button "Add pet"'}):(0,u.jsx)("ul",{children:e.map((function(e){var t=e._id,a=e.name,n=e.birthday,r=e.type,s=e.comments,i=e.photoURL;return(0,u.jsx)(j,{id:t,petName:a,birthday:n,breed:r,comments:s,image:i},t)}))})})},C="PetsData_wrapper__vJJPe",A="PetsData_box__-DA8o",U="PetsData_title__c2IAB",F=a(3782),Z=a(1087),D=function(){return(0,u.jsxs)("div",{className:C,children:[(0,u.jsxs)("div",{className:A,children:[(0,u.jsx)("h2",{className:U,children:"My pets:"}),(0,u.jsx)(Z.rU,{to:"/add-pet",children:(0,u.jsx)(F.Z,{})})]}),(0,u.jsx)(y,{})]})},R=a(5705),M=a(7391),B=a(5996),q="UserInput_label__rwL-4",I="UserInput_labelText__dLSSN",k="UserInput_input__LhhAa",w="UserInput_errorText__9FXQY",P=function(e){var t=e.text,a=e.name,n=e.type,r=e.isActive,s=e.onChange,i=e.value,o=e.error,l=e.helperText;return(0,u.jsxs)("div",{children:[(0,u.jsxs)("label",{className:q,children:[(0,u.jsxs)("span",{className:I,children:[t,":"]}),(0,u.jsx)("input",{className:k,name:a,type:n,disabled:r,onChange:s,value:i})]}),o?(0,u.jsx)("span",{className:w,children:l}):null]})},L="UserForm_wrapper__Fxcb1",T="UserForm_form__r5DCm",S="UserForm_avatarGroup__Pk+he",E="UserForm_boxAvatar__IUBDV",Y="UserForm_formActive__IHRuD",H="UserForm_imgAvatar__nTcBs",O="UserForm_editAvatarBt__PdeD1",V="UserForm_editAvatarIcon__nD2Xr",K="UserForm_labelInputFale__a1CEk",z="UserForm_inputFile__CHbjf",G="UserForm_errorText__yaBU3",W="UserForm_formGroup__H4Oti",J="UserForm_box__IK5hw",Q="UserForm_saveBtBox__W5mzf",X="UserForm_saveBt__Ay9Br",$=a(5822),ee="AvatarConfirmButtons_confirmBtBox__gy3FC",te="AvatarConfirmButtons_textConfirm__N9u5U",ae="AvatarConfirmButtons_confirmBt__BF-4o",ne=function(e){var t=e.acceptAvatar,a=e.rejectAvatar;return(0,u.jsxs)("div",{className:ee,children:[(0,u.jsxs)("button",{className:ae,type:"button",onClick:t,children:[" ",(0,u.jsx)(s.nQ,{style:{stroke:"#54ADFF"}})]}),(0,u.jsx)("span",{className:te,children:"Confirm"}),(0,u.jsxs)("button",{className:ae,type:"button",onClick:a,children:[" ",(0,u.jsx)(s.Hb,{style:{stroke:"#F43F5E"}})]})]})},re="LogoutUser_bt__FUl3V",se=a(8569),ie=function(){var e=(0,g.I0)(),t=(0,h.useState)(!1),a=(0,n.Z)(t,2),r=a[0],i=a[1],o=function(){i(!r)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("button",{className:re,type:"button",onClick:o,children:[(0,u.jsx)(s.R0,{style:{stroke:"#54ADFF"}})," Logout"]}),r&&(0,u.jsx)(_.Z,{toggleModal:o,children:(0,u.jsx)(se.Z,{toggleLogoutModal:o,logout:function(){e((0,$.logout)())}})})]})},oe="FormActivationToggleButton_bt__TDg3S",le="FormActivationToggleButton_icon__LB0-S",ce=function(e){var t=e.toggle,a=e.type,n=e.iconComponent;return(0,u.jsx)("button",{className:oe,type:a,onClick:t,children:(0,u.jsx)(n,{className:"button"===a?le:""})})},de=function(){var e,t,a=(0,M.a)().user,r=(0,h.useState)(null),i=(0,n.Z)(r,2),o=i[0],l=i[1],c=(0,h.useState)(!0),d=(0,n.Z)(c,2),m=d[0],_=d[1],x=(0,h.useState)(!1),p=(0,n.Z)(x,2),j=p[0],v=p[1],b=(0,g.I0)();e=void 0===a.phone?"+380":a.phone,t=void 0===a.city?"":a.city;var f=(0,R.TA)({enableReinitialize:!0,initialValues:{avatarURL:a.avatarURL,name:a.name,email:a.email,birthday:a.birthday,phone:e,city:t},onSubmit:function(e,t){var n,r=new FormData;r.append("avatarURL",o),e.email!==a.email&&(n={name:e.name,email:e.email,birthday:e.birthday,phone:e.phone,city:e.city}),e.email===a.email&&(n={name:e.name,birthday:e.birthday,phone:e.phone,city:e.city}),console.log("formData",n),_(!m),v(!1),l(null),b((0,$.updateUser)(n)),b((0,$.updateUserAvatar)(r)),t.resetForm()},validationSchema:B.IK});return(0,u.jsxs)("div",{className:L,children:[(0,u.jsxs)("form",{className:T,onSubmit:f.handleSubmit,children:[(0,u.jsxs)("div",{className:S,children:[(0,u.jsx)("div",{className:m?E:"".concat(E," ").concat(Y),children:o?(0,u.jsx)("img",{className:H,src:URL.createObjectURL(o),alt:"avatar"}):null!==a&&void 0!==a&&a.avatarURL?(0,u.jsx)("img",{className:H,src:"https://cdn.pixabay.com/".concat(a.avatarURL),alt:"avatar"}):(0,u.jsx)(s.BM,{})}),!m&&j&&(0,u.jsx)(ne,{acceptAvatar:function(){return v(!1)},rejectAvatar:function(){v(!1),f.setFieldValue("avatarURL",""),l(null)}}),(0,u.jsxs)("label",{className:K,children:[!m&&!j&&(0,u.jsxs)("button",{className:O,type:"button",onClick:function(){return v(!0)},children:[(0,u.jsx)(s.xm,{className:V})," Edit photo"]}),(0,u.jsx)("input",{className:z,name:"avatarURL",type:"file",disabled:m,onChange:function(e){f.setFieldValue("avatarURL",e),l(e.target.files[0])},accept:"image/*,.png,.jpg"}),f.touched.avatarURL&&f.errors.avatarURL&&(0,u.jsx)("span",{className:G,children:f.errors.avatarURL})]})]}),(0,u.jsxs)("div",{className:J,children:[(0,u.jsxs)("div",{className:W,children:[(0,u.jsx)(P,{text:"Name",name:"name",type:"text",isActive:m,onChange:f.handleChange,value:f.values.name,error:f.touched.name&&f.errors.name,helperText:f.errors.name}),(0,u.jsx)(P,{text:"Email",name:"email",type:"email",isActive:m,onChange:f.handleChange,value:f.values.email,error:f.touched.email&&f.errors.email,helperText:f.errors.email}),(0,u.jsx)(P,{text:"Birthday",name:"birthday",type:"date",isActive:m,onChange:f.handleChange,value:f.values.birthday,error:f.touched.birthday&&f.errors.birthday,helperText:f.errors.birthday}),(0,u.jsx)(P,{text:"Phone",name:"phone",type:"tel",isActive:m,onChange:f.handleChange,value:f.values.phone,error:f.touched.phone&&f.errors.phone,helperText:f.errors.phone}),(0,u.jsx)(P,{text:"City",name:"city",type:"text",isActive:m,onChange:f.handleChange,value:f.values.city,error:f.touched.city&&f.errors.city,helperText:f.errors.city})]}),!m&&(0,u.jsx)("div",{className:Q,children:(0,u.jsx)("button",{className:X,type:"submit",children:"Save"})})]})]}),m?(0,u.jsx)(ce,{iconComponent:s.dY,type:"reset",toggle:function(){return _(!m)}}):(0,u.jsx)(ce,{iconComponent:s.Hb,type:"button",toggle:function(){f.resetForm(),_(!m),l(null),v(!1)}}),m&&(0,u.jsx)(ie,{})]})},ue="UserData_box__eLFXE",me="UserData_title__qB2+m",_e=function(){return(0,u.jsxs)("div",{className:ue,children:[(0,u.jsx)("h2",{className:me,children:"My information:"}),(0,u.jsx)(de,{})]})},he=a(4289),xe="UserPage_box__E7q34",pe=a(9874),je=function(){var e=(0,g.v9)(he.xN),t=(0,g.I0)(),a=(0,h.useState)(!0),s=(0,n.Z)(a,2),i=s[0],o=s[1],l=(0,h.useState)(e),c=(0,n.Z)(l,2),d=c[0],x=c[1],p=function(){x(!d),o(!i)};return(0,h.useEffect)((function(){t((0,$.getCurrentUser)())}),[t]),(0,h.useEffect)((function(){t((0,pe.nx)())}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.Z,{children:(0,u.jsxs)("div",{className:xe,children:[(0,u.jsx)(_e,{}),(0,u.jsx)(D,{})]})}),d&&(0,u.jsx)(_.Z,{toggleModal:p,children:(0,u.jsx)(m,{toggleModal:p})})]})}},5996:function(e,t,a){a.d(t,{IK:function(){return l},dm:function(){return o},gY:function(){return i}});var n=a(6727),r=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,16}$/,s=/.+@.+\..+/i,i=n.Ry().shape({username:n.Z_().min(2).max(16).required("Required"),email:n.Z_().email(s,"Please enter a valid email").required("Required"),password:n.Z_().matches(r,"The password must have 1 uppercase letter, 1 lowercase letter and 1 number").required("Required"),confirmPassword:n.Z_().oneOf([n.iH("password"),null],"Password must match").required("Required")}),o=n.Ry().shape({email:n.Z_().email("Please enter a valid email").required("Required"),password:n.Z_().matches(r,"Not valid password").required("Required")}),l=n.Ry().shape({avatarURL:n.nK().required("Add your photo"),name:n.Z_().required("Required").matches(/^[a-z\u0430-\u044f\u0451]{2,16}$/i,"The name must contain a maximum of 16 letters"),email:n.Z_().trim().required("Required").matches(s,"Enter a valid Email"),birthday:n.Z_().required("Required"),phone:n.Z_().required("Required").matches(/^\+380\d{9}$/,'The number must begin with "+380" and contain 9 more digits'),city:n.Z_().required("Required")})}}]);
//# sourceMappingURL=992.3424a342.chunk.js.map